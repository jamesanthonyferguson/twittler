<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <style> 
    .tweet {
      border: 1px solid blue;
      padding: 10px;
      margin: 2px;
      font-size: 16pt;
    }
    .datetime {
      font-size: 10pt;
      color: blue;
    }
    .user {
      font-size: 12pt;
    }
    </style>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        $body.html('');
        var heading = $('<h1>Twittler</h1>');
        heading.appendTo($body);

        var update = function() {
          clear();
          var index = streams.home.length - 1;
          var limit = streams.home.length - 11;
          while(index >= limit){
            var tweet = streams.home[index];
            var now = new Date();
            var $tweet = $('<div class="tweet"><span class="user">@' + tweet.user + '</span>: ' + tweet.message + '<span class="datetime"> at ' + now.getHours() + ':' +now.getMinutes() + ' on ' + (now.getMonth() + 1) + '/' + now.getDate() + '/' + now.getFullYear() + '</span></div>');
            $tweet.appendTo($body);
            index -= 1;
          }
          setTimeout(update,5000);
        }
        update();

      });

      var clear = function() {
        $('.tweet').remove();
      };
    </script>
  </body>